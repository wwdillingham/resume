//Wesley Dillingham//Interactive Digital programming Spring 2011// Project 3 - XMLpackage  {		import flash.display.*;	import flash.net.*;	import flash.events.*;	import fl.data.*;	import fl.events.*;//	import flashx.textLayout.formats.Float;		public class beachReporter extends MovieClip {//variable declerationspublic var arrStars:Array;public var RadioState:String = "ccradiof"; //Is it Celsius or Fahrenheit?public var ComboState:String; //Also the name of the township, for example "Chatham"public var CurrentZip:String;public var CurrentLoc:String;public var CurrentWind:String;public var CurrentTemp:Number;public var CurrentTempc:Number;public var CurrentCam:String; //url for webcampublic var wellfleetRequest = new URLRequest("http://www.google.com/ig/api?weather=02667");public var wellfleetLoader = new URLLoader();public var orleansRequest = new URLRequest("http://www.google.com/ig/api?weather=02653");public var orleansLoader = new URLLoader();public var easthamRequest = new URLRequest("http://www.google.com/ig/api?weather=02642");public var easthamLoader = new URLLoader();public var chathamRequest = new URLRequest("http://www.google.com/ig/api?weather=02633");public var chathamLoader = new URLLoader();public var vhRequest = new URLRequest("http://www.google.com/ig/api?weather=02568");public var vhLoader = new URLLoader();public var obRequest = new URLRequest("http://www.google.com/ig/api?weather=02557");public var obLoader = new URLLoader();public var hyannisRequest = new URLRequest("http://www.google.com/ig/api?weather=02601");public var hyannisLoader = new URLLoader();		//Constructor		public function beachReporter() {						//Dynamic-star			arrStars = new Array();			star_btn.addEventListener(MouseEvent.MOUSE_UP, DisplayStar);			delstar_btn.addEventListener(MouseEvent.MOUSE_UP, RemoveStar);						//xml			wellfleetLoader.load(wellfleetRequest);			orleansLoader.load(orleansRequest);			easthamLoader.load(easthamRequest);			chathamLoader.load(chathamRequest);			vhLoader.load(vhRequest);			obLoader.load(obRequest);			hyannisLoader.load(hyannisRequest);			//xmlLoader									//Radio group (Celsium or F)			ccradiogroup.ccradiof.stop();			ccradiogroup.ccradioc.stop();			ccradiogroup.ccradiof.gotoAndStop("Radio_on");			ccradiogroup.ccradiof.addEventListener(MouseEvent.MOUSE_UP, radioOn);			ccradiogroup.ccradioc.addEventListener(MouseEvent.MOUSE_UP, radioOn);			//ccradiogroup.ccradiof.addEventListener(MouseEvent.MOUSE_UP, doComboChange);			//ccradiogroup.ccradioc.addEventListener(MouseEvent.MOUSE_UP, doComboChange);									//Combo - constructor (mrCombo)			mrCombo.addEventListener(Event.CHANGE,doComboChange);			mrCombo.prompt="Choose a township...";			mrCombo.addItem({label:"Wellfleet",data:"667"});			mrCombo.addItem({label:"Orleans",data:"653"});			mrCombo.addItem({label:"Eastham",data:"642"});			mrCombo.addItem({label:"Chatham",data:"633"});			mrCombo.addItem({label:"Vineyard-Haven",data:"568"});			mrCombo.addItem({label:"Oak-Bluffs",data:"557"});			mrCombo.addItem({label:"Hyannis",data:"601"});		}//end constructor				public function DisplayStar(e:MouseEvent):void{			var starpattern = new StarController();			starpattern.x=135;			starpattern.y=220;			starpattern.scaleX=1;			starpattern.scaleY=1;			arrStars.push(starpattern);			addChild(starpattern);		}				public function RemoveStar(e:MouseEvent):void{			if (arrStars.length > 0) {				var starToRemove = arrStars.pop();				removeChild(starToRemove);			}		}						//what happens when we change township		public function doComboChange(e:Event):void{			//textOut.text += e.target.selectedItem.label + "\n";						CurrentTemp = 100; //need to extract from XML			CurrentZip = "02" + e.target.selectedItem.data; //complete the zip code			ComboState = e.target.selectedItem.label; //Also the name of the township, for example "Chatham"			//trace(ComboState);			//trace(RadioState);			//trace(CurrentZip);						//now we need to load the proper xml file and parse it based on which township is selected			if (CurrentZip == "02667")//wellfleet.			{				var wellfleetData:XML = new XML(wellfleetLoader.data);				var wellfleetInfo:XMLList = wellfleetData.elements().forecast_information; //cracks open the forecast_info tag				var wellfleetCondition:XMLList = wellfleetData.elements().current_conditions;				CurrentTemp = wellfleetCondition.elements("temp_f").@data; //harvesting the current F temperature				CurrentTempc = wellfleetCondition.elements("temp_c").@data; //harvesting the current F temperature				CurrentLoc = wellfleetInfo.elements("city").@data;			//harvesting the city name				CurrentWind = wellfleetCondition.elements("wind_condition").@data;	//harvesting the wind dialogue				CurrentCam = "http://thebeachcomber.com/beach/stage.jpg";			}						if (CurrentZip == "02653")//orleans			{				var orleansData:XML = new XML(orleansLoader.data);				var orleansInfo:XMLList = orleansData.elements().forecast_information; //cracks open the forecast_info tag				var orleansCondition:XMLList = orleansData.elements().current_conditions;				CurrentTemp = orleansCondition.elements("temp_f").@data; //harvesting the current F temperature				CurrentTempc = orleansCondition.elements("temp_c").@data; //harvesting the current c temperature				CurrentLoc = orleansInfo.elements("city").@data;			//harvesting the city name				CurrentWind = orleansCondition.elements("wind_condition").@data;	//harvesting the wind dialogue				CurrentCam = "http://www.nausetbeach.org/skaket.jpg";			}				if (CurrentZip == "02642")//eastham			{				var easthamData:XML = new XML(easthamLoader.data);				var easthamInfo:XMLList = easthamData.elements().forecast_information; //cracks open the forecast_info tag				var easthamCondition:XMLList = easthamData.elements().current_conditions;				CurrentTemp = easthamCondition.elements("temp_f").@data; //harvesting the current F temperature				CurrentTempc = easthamCondition.elements("temp_c").@data; //harvesting the current c temperature				CurrentLoc = easthamInfo.elements("city").@data;			//harvesting the city name				CurrentWind = easthamCondition.elements("wind_condition").@data;	//harvesting the wind dialogue				CurrentCam = "http://summerhome.com/baycam/image.jpg?dummy=1305489900379";			}									if (CurrentZip == "02633")//chatham			{				var chathamData:XML = new XML(chathamLoader.data);				var chathamInfo:XMLList = chathamData.elements().forecast_information; //cracks open the forecast_info tag				var chathamCondition:XMLList = chathamData.elements().current_conditions;				CurrentTemp = chathamCondition.elements("temp_f").@data; //harvesting the current F temperature				CurrentTempc = chathamCondition.elements("temp_c").@data; //harvesting the current F temperature				CurrentLoc = chathamInfo.elements("city").@data;			//harvesting the city name				CurrentWind = chathamCondition.elements("wind_condition").@data;	//harvesting the wind dialogue				CurrentCam = "http://www.telecamsystems.com/chatham/2_autopan2.jpg";			}									if (CurrentZip == "02568")//Vineyard Haven 			{				var vhData:XML = new XML(vhLoader.data);				var vhInfo:XMLList = vhData.elements().forecast_information; //cracks open the forecast_info tag				var vhCondition:XMLList = vhData.elements().current_conditions;				CurrentTemp = vhCondition.elements("temp_f").@data; //harvesting the current F temperature				CurrentTempc = vhCondition.elements("temp_c").@data; //harvesting the current c temperature				CurrentLoc = vhInfo.elements("city").@data;			//harvesting the city name				CurrentWind = vhCondition.elements("wind_condition").@data;	//harvesting the wind dialogue				CurrentCam = "http://mvmansionhouse.com/netcam.jpg";			}								if (CurrentZip == "02557")//Oak Bluffs			{				var obData:XML = new XML(obLoader.data);				var obInfo:XMLList = obData.elements().forecast_information; //cracks open the forecast_info tag				var obCondition:XMLList = obData.elements().current_conditions;				CurrentTemp = obCondition.elements("temp_f").@data; //harvesting the current F temperature				CurrentTempc = obCondition.elements("temp_c").@data; //harvesting the current c temperature				CurrentLoc = obInfo.elements("city").@data;			//harvesting the city name				CurrentWind = obCondition.elements("wind_condition").@data;	//harvesting the wind dialogue				CurrentCam = "http://www.oakbluffsharbor.com/images/webcam.jpg";			}								if (CurrentZip == "02601")//hyannis			{				var hyannisData:XML = new XML(hyannisLoader.data);				var hyannisInfo:XMLList = hyannisData.elements().forecast_information; //cracks open the forecast_info tag				var hyannisCondition:XMLList = hyannisData.elements().current_conditions;				CurrentTemp = hyannisCondition.elements("temp_f").@data; //harvesting the current F temperature				CurrentTempc = hyannisCondition.elements("temp_c").@data; //harvesting the current c temperature				CurrentLoc = hyannisInfo.elements("city").@data;			//harvesting the city name				CurrentWind = hyannisCondition.elements("wind_condition").@data;	//harvesting the wind dialogue				CurrentCam = "http://hylinecruises.com/cam1_hylinecam.jpg";			}													//display to text box about conditions			if ( RadioState == "ccradiof")				textOut.text = "In " + CurrentLoc + " It is " + CurrentTemp + "ºF \n \n" + CurrentWind;			else{				 textOut.text = "In " + CurrentLoc + " It is " + CurrentTempc + "ºC \n" + CurrentWind;			}						//Displaying the current webcam			//trace(CurrentCam);			var imageRequest:URLRequest = new URLRequest(CurrentCam);			var imageLoader:Loader = new Loader();			imageLoader.load(imageRequest);			imageLoader.x=460; //480			imageLoader.y=400; //420			imageLoader.scaleX=1;			imageLoader.scaleY=1;						addChild(imageLoader);					}//end doComboChange				//What happens when we change the radio state (c or f)		public function radioOn(e:MouseEvent):void{			//make current radio inactive			ccradiogroup.ccradiof.gotoAndStop("Radio_off");			ccradiogroup.ccradioc.gotoAndStop("Radio_off");						//activate this one			e.target.gotoAndStop("Radio_on");												RadioState = e.target.name; // "ccradiof" or "ccradioc" variable for determining Celsius or Fahrenheit.			//trace(RadioState);								if ( RadioState == "ccradiof")			textOut.text = "In " + CurrentLoc + " It is " + CurrentTemp + "ºF \n \n" + CurrentWind;		else{			 textOut.text = "In " + CurrentLoc + " It is " + CurrentTempc + "ºC \n \n" + CurrentWind;			 }					}//end radioOn	}//end class	}//end package